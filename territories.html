<!-- PythonitGang Hub // Created by Roilafufit -->
<title>PythonitGang Hub - Territories</title>
<script src="https://unpkg.com/axios@0.20.0/dist/axios.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="text/javascript">
function main() {
    document.getElementById("territoryNum").innerHTML = window.sessionStorage.getItem("PythonitGangHub_temp2");
    axios.get('https://api.wynncraft.com/public_api.php?action=territoryList')
        .then(response => {
            console.log("Request to " + response.config.url + " returned with status code " + response.status);
            if (response.status != 200) {
                alert("Error while fetching data from API!\nStatus code: " + response.status + ". Please report this!");}
            document.getElementById("territories").innerHTML = "";
            for (var i in response.data.territories) {
                var t = response.data.territories[i];
                if (t.guild == "PythonitGang") {
                    document.getElementById("territories").innerHTML += "<b>" + t.territory + "</b><br>Acquired " + t.acquired + "<br>";
                    if (t.attacker) {
                        document.getElementById("territories").innerHTML += "<span style='color:red'>Territory is being attacked by " + t.attacker + "!</span></b><br>";
                    }
                }
            }
        })
        .catch(error => {
            alert("An error occured! Please report:\n" + error);
            console.log(error);
        });
}
</script>
<center>
<noscript><br><a style="color:red;font-size:25px">PythonitGang Hub needs <b>Javascript</b> in order to work!<br>Please enable javascript and refresh this page.</a><br></noscript>
</center>
<div style="font-family:Arial;font-size:25px"><u>Territories:<br></u></div>
<div id="territories">
Loading...
</div>
<br><><><><br>
<i><span id="territoryNum">Loading...</span> territories total</i>
<script type="text/javascript">
if (window.sessionStorage.getItem("PythonitGangHub_temp3") == "ready") {main();}
</script>
